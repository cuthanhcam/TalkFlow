@{
    ViewData["Title"] = "Home";
}

@section customHead {
    <link rel="stylesheet" href="~/css/home_friendhub.css" asp-append-version="true" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
          rel="stylesheet">
}

<div class="modal fade" id="ModalJoinRoom" tabindex="-1" aria-labelledby="ModalJoinRoomTitle" style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content card-modern">
            <div class="modal-header border-0">
                <h5 class="modal-title text-white">Join Room</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <form id="form_join_room" method="post" autocomplete="off" asp-action="JoinRoom" asp-controller="Home" data-validate="true">
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label text-white">Display Name</label>
                        <input type="text" name="JoinRoom.DisplayName" required class="form-control form-control-modern" placeholder="e.g., John Doe" maxlength="50" />
                    </div>
                    <div class="mb-3">
                        <label class="form-label text-white">Room ID</label>
                        <input id="input_room_id" type="text" name="JoinRoom.RoomId" required class="form-control form-control-modern" value="@ViewBag.RoomId" placeholder="e.g., abc123-def456"/>
                    </div>
                    <div class="mb-3">
                        <label class="form-label text-white">Password (Optional)</label>
                        <input type="password" name="JoinRoom.SecurityCode" class="form-control form-control-modern" placeholder="Leave blank if no password" maxlength="50" />
                    </div>
                </div>
                <div class="modal-footer border-0">
                    <button type="button" class="btn btn-modern-primary" onclick="homeFormSubmit('form_join_room');">
                        <i class="fas fa-sign-in-alt me-2"></i>Join Room
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="container-fluid min-vh-100 d-flex align-items-center justify-content-center animated-bg">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="card-modern particle-glow p-5 text-center" style="animation: fadeInUp 0.6s ease-out;">
                    <style>
                        @@keyframes shimmer {
                            0% { transform: translateX(-100%); }
                            100% { transform: translateX(100%); }
                        }
                        @@keyframes fadeInUp {
                            from {
                                opacity: 0;
                                transform: translateY(30px);
                            }
                            to {
                                opacity: 1;
                                transform: translateY(0);
                            }
                        }
                    </style>
                    <div class="mb-4">
                        <div class="logo-container mb-4" style="animation: fadeInUp 0.6s ease-out 0.2s both;">
                            <img class="img-fluid" src="~/asset/image/logo.png" alt="TalkFlow Logo" style="max-height: 70px;">
                        </div>
                        <h2 class="mb-3" style="background: linear-gradient(135deg, #6366f1, #06b6d4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-weight: 700; animation: fadeInUp 0.6s ease-out 0.4s both;">
                            Start Video Chat
                        </h2>
                        <p class="text-muted" style="animation: fadeInUp 0.6s ease-out 0.6s both;">Create a new room or join an existing one</p>
                    </div>
                    
                    <form id="homepage_form" method="post" asp-action="CreateRoom" asp-controller="Home" data-validate="true" style="animation: fadeInUp 0.6s ease-out 0.8s both;">
                        <div class="mb-4">
                            <label class="form-label text-white text-start d-block mb-2" style="font-weight: 500;">
                                <i class="fas fa-user me-2"></i>Display Name
                            </label>
                            <input id="input_display_name" required placeholder="e.g., John Doe" type="text" 
                                   name="CreateRoom.DisplayName" class="form-control form-control-modern" autocomplete="off" maxlength="50" 
                                   style="font-size: 1rem; padding: 0.875rem 1rem;">
                        </div>
                        
                        <div class="d-grid gap-3">
                            <button id="btn_create_room" type="button" class="btn btn-modern-primary btn-lg" onclick="homeFormSubmit('homepage_form');" style="position: relative; overflow: hidden;">
                                <span style="position: relative; z-index: 1;">
                                    <i class="fas fa-plus-circle me-2"></i>Create New Room
                                </span>
                                <span style="position: absolute; inset: 0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); transform: translateX(-100%); animation: shimmer 2s infinite;"></span>
                            </button>
                            <button id="btn_join_room" type="button" class="btn btn-modern-secondary btn-lg" data-bs-toggle="modal" data-bs-target="#ModalJoinRoom">
                                <i class="fas fa-sign-in-alt me-2"></i>Join Existing Room
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@section script {
    <script src="~/js/home_friendhub.js" asp-append-version="true"></script>
}



